# =============================================================================
# FORESIGHT â€” Python Dependencies
# Pin minor versions for reproducibility; Dependabot keeps them updated.
# =============================================================================

# --- Core ---
python-dotenv>=1.0.0
pydantic>=2.6.0
pydantic-settings>=2.2.0

# --- Database ---
sqlalchemy>=2.0.27
asyncpg>=0.29.0          # async PostgreSQL driver
psycopg2-binary>=2.9.9   # sync PostgreSQL driver (Alembic, Airflow)
alembic>=1.13.1
pymongo>=4.6.1
motor>=3.3.2              # async MongoDB driver

# --- Kafka ---
kafka-python>=2.0.2
confluent-kafka>=2.3.0

# --- Object Store / S3 ---
boto3>=1.34.0
minio>=7.2.5

# --- Spark (PySpark) ---
pyspark>=3.5.0

# --- Airflow (installed separately in airflow image, listed for reference) ---
# apache-airflow>=2.8.1

# --- ML ---
scikit-learn>=1.4.0
xgboost>=2.0.3
mlflow>=2.10.2
pandas>=2.2.0
numpy>=1.26.4
shap>=0.44.0              # model explainability (top features)
imbalanced-learn>=0.12.0  # SMOTE for class imbalance

# --- FastAPI ---
fastapi>=0.111.0
uvicorn[standard]>=0.29.0
python-jose[cryptography]>=3.3.0   # JWT
passlib[bcrypt]>=1.7.4
python-multipart>=0.0.9
httpx>=0.27.0             # async HTTP client + test client

# --- Reporting ---
openpyxl>=3.1.2
fpdf2>=2.7.9

# --- Dev / Testing ---
pytest>=8.1.0
pytest-asyncio>=0.23.5
pytest-cov>=5.0.0
pytest-mock>=3.12.0
factory-boy>=3.3.0        # test fixtures
httpx>=0.27.0             # FastAPI test client
locust>=2.24.0            # load testing

# --- Linting / Formatting ---
black>=24.3.0
flake8>=7.0.0
mypy>=1.9.0
isort>=5.13.2

# --- Utilities ---
click>=8.1.7              # CLI for seed.py, connectors
rich>=13.7.1              # pretty terminal output
python-dateutil>=2.9.0
pytz>=2024.1
structlog>=24.1.0         # optional structured logging
tenacity>=8.2.3           # retry logic
